shiny::runApp('C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/ShinyTest')
runApp('C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/ShinyTest')
runApp('C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/ShinyTest')
runApp('C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/ShinyTest')
summary(iris)
table(iris)
runApp('C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/ShinyTest')
# Load packages ####
library(readxl)
library(tidyverse)
library(maps)
library(ggplot2)
library(sf)
library(rnaturalearth)
# set working directory ####
setwd("C:\\Users\\latreese.denson\\Desktop\\SEDAR_98_Models\\DataWorkshop\\GRSC_LFD_Exploration")
# read in clean data ####
GRSC_Map_Dat <- read.csv("GRSC_Data_for_Mapping.csv")
GRSC_Table <-read.csv("GRSC_NumberTable.csv")
# Table Code for proportions ####
Data_summary2 = GRSC_Map_Dat%>%
group_by(Region,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))%>%group_by(Region,HabitatType)%>%summarise_all(sum)%>%
pivot_wider(names_from = HabitatType,values_from = RS_meas_total)%>%
rowwise() %>%
mutate(Total = sum(c_across(where(is.numeric)), na.rm = T))%>%
mutate(LCper_NR = (NR/Total)*100, LCper_AR = (AR/Total)*100, LCper_UCB = (UCB/Total)*100)
Data_summary2
GRSC_tab = GRSC_Table%>%pivot_wider(names_from = HabitatType,values_from = Number)%>%
mutate(RSCper_NR = (NR/Total)*100, RSCper_AR = (AR/Total)*100, RSCper_UCB = (UCB/Total)*100)
GRSC_tab
View(GRSC_Table)
# Load packages ####
library(readxl)
library(tidyverse)
library(maps)
library(ggplot2)
library(sf)
library(rnaturalearth)
# set working directory ####
setwd("C:\\Users\\latreese.denson\\Desktop\\SEDAR_98_Models\\DataWorkshop\\GRSC_LFD_Exploration")
# read in clean data ####
GRSC_Map_Dat <- read.csv("GRSC_Data_for_Mapping.csv")
GRSC_Table <-read.csv("GRSC_NumberTable.csv")
# Table Code for proportions ####
Data_summary2 = GRSC_Map_Dat%>%
group_by(Region,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))%>%group_by(Region,HabitatType)%>%summarise_all(sum)%>%
pivot_wider(names_from = HabitatType,values_from = RS_meas_total)%>%
rowwise() %>%
mutate(Total = sum(c_across(where(is.numeric)), na.rm = T))%>%
mutate(LCper_NR = (NR/Total)*100, LCper_AR = (AR/Total)*100, LCper_UCB = (UCB/Total)*100)
GRSC_tab = GRSC_Table%>%pivot_wider(names_from = HabitatType,values_from = Number)%>%
mutate(RSCper_NR = (NR/Total)*100, RSCper_AR = (AR/Total)*100, RSCper_UCB = (UCB/Total)*100)
GRSC_tab
# Load packages ####
library(readxl)
library(tidyverse)
library(maps)
library(ggplot2)
library(sf)
library(rnaturalearth)
# set working directory ####
setwd("C:\\Users\\latreese.denson\\Desktop\\SEDAR_98_Models\\DataWorkshop\\GRSC_LFD_Exploration")
# read in clean data ####
GRSC_Map_Dat <- read.csv("GRSC_Data_for_Mapping.csv")
GRSC_Table <-read.csv("GRSC_NumberTable.csv")
# Table Code for proportions ####
Data_summary2 = GRSC_Map_Dat%>%
group_by(Region,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))%>%group_by(Region,HabitatType)%>%summarise_all(sum)%>%
pivot_wider(names_from = HabitatType,values_from = RS_meas_total)%>%
rowwise() %>%
mutate(Total = sum(c_across(where(is.numeric)), na.rm = T))%>%
mutate(LCper_NR = (NR/Total)*100, LCper_AR = (AR/Total)*100, LCper_UCB = (UCB/Total)*100)
write.csv(Data_summary2,"LengthComp_HabitatProportions.csv",row.names = FALSE)
GRSC_tab = GRSC_Table%>%pivot_wider(names_from = HabitatType,values_from = Number)%>%
mutate(RSCper_NR = (NR/Total)*100, RSCper_AR = (AR/Total)*100, RSCper_UCB = (UCB/Total)*100)
write.csv(GRSC_tab,"RSC_HabitatProportions.csv",row.names = FALSE)
GRSC_tab
# Load packages ####
library(readxl)
library(tidyverse)
library(maps)
library(ggplot2)
library(sf)
library(rnaturalearth)
# set working directory ####
setwd("C:\\Users\\latreese.denson\\Desktop\\SEDAR_98_Models\\DataWorkshop\\GRSC_LFD_Exploration")
# read in clean data ####
GRSC_Map_Dat <- read.csv("GRSC_Data_for_Mapping.csv")
GRSC_Table <-read.csv("GRSC_NumberTable.csv")
# Table Code for proportions ####
Data_summary2 = GRSC_Map_Dat%>%
group_by(Region,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))%>%group_by(Region,HabitatType)%>%summarise_all(sum)%>%
pivot_wider(names_from = HabitatType,values_from = RS_meas_total)%>%
rowwise() %>%
mutate(Total = sum(c_across(where(is.numeric)), na.rm = T))%>%
mutate(LCper_NR = (NR/Total)*100, LCper_AR = (AR/Total)*100, LCper_UCB = (UCB/Total)*100)
write.csv(Data_summary2,"LengthComp_HabitatProportions.csv",row.names = FALSE)
GRSC_tab = GRSC_Table%>%pivot_wider(names_from = HabitatType,values_from = Number)%>%
mutate(RSCper_NR = (NR/Total)*100, RSCper_AR = (AR/Total)*100, RSCper_UCB = (UCB/Total)*100)
write.csv(GRSC_tab,"RSC_HabitatProportions.csv",row.names = FALSE)
# Compare length comp proportions to abundance proportions ####
LCdata = Data_summary2%>%select(Region,LCper_NR,LCper_AR,LCper_UCB)
RSCdata = GRSC_tab%>%select(Region,RSCper_NR,RSCper_AR,RSCper_UCB)
PerDat = merge(LCdata,RSCdata)
write.csv(PerDat,"LengthCompvsRSC_HabitatProportions.csv",row.names = FALSE)
View(PerDat)
View(GRSC_Table)
View(LCdata)
Data_summary2 = GRSC_Map_Dat%>%
group_by(Region,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))%>%group_by(Region,HabitatType)%>%summarise_all(sum)%>%
pivot_wider(names_from = HabitatType,values_from = RS_meas_total)
View(Data_summary2)
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@1_GRSC_DataCleaning.R")
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@3_GRSC_Tables_Mapping.R")
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@2_GRSC_LDF.R")
# Entire Gulf habitat type
ggplot() + geom_sf(data = GULF) + theme_bw()+
geom_point(data=GRSC_Map_Dat, aes(x=Longitude, y=Latitude,col = HabitatType))
dev.off()
# Entire Gulf habitat type
ggplot() + geom_sf(data = GULF) + theme_bw()+
geom_point(data=GRSC_Map_Dat, aes(x=Longitude, y=Latitude,col = HabitatType))
# some texas data has positive longitude and should be negative
TX_sites_clean = TX_Sites%>%
inner_join(TX_descript, by = c("Latitude", "Longitude"))%>%
mutate(Longitude = if_else(Longitude > 0, Longitude * -1, Longitude))
View(TX_sites_clean)
TX_West_clean =  AL_MS_TX_Data %>%filter(Region=="Texas",
YearDeployment>=2018,
YearDeployment<=2019,
!is.na(FL_mm))%>%
select(YearDeployment,MonthDeployment,DayDeployment,
Latitude,Longitude, DepthZone, HabitatType, Method,FL_mm)%>%
mutate(Longitude = if_else(Longitude > 0, Longitude * -1, Longitude))%>%
mutate(HabitatType = if_else(str_detect(`HabitatType`, "Artificial"), "AR","NR" ))
# Wide version of data for Mapping
TX_West_Map = TX_sites_clean %>%
mutate(SID = "West",Reg_SID = "TX_W")%>%
rename("Gear"="Method","year"="YearDeployment")%>%
select(year,Latitude,Longitude,Region,HabitatType,DepthZone,RS_measured,SID,Reg_SID,Gear)
# Long version of data for LFD
TX_West_LFD = TX_West_clean%>%select(YearDeployment,HabitatType,DepthZone,Method,FL_mm)%>%
mutate(Region ="Texas", SID ="West",Reg_SID ="TX_W")%>%
mutate(FL_cm = FL_mm/10)%>%
rename("Gear"="Method","year"="YearDeployment")%>%
select(-FL_mm)
# Combine data for mapping and tables ####
GRSC_Site_Dat = rbind(FL_Central_Map,FL_East_Map,AL_Central_Map,
MS_Central_Map,LA_West_Map,TX_West_Map)
write.csv(GRSC_Site_Dat,"GRSC_Data_for_Mapping.csv",row.names = FALSE)
# combine data for LFD ####
GRSC_LFD_Dat = rbind(FL_Central_LFD,FL_East_LFD,AL_Central_LFD,
MS_Central_LFD,LA_West_LFD,TX_West_LFD)
write.csv(GRSC_LFD_Dat,"GRSC_Data_for_LFD.csv",row.names = FALSE)
# Load packages ####
library(readxl)
library(tidyverse)
library(maps)
library(ggplot2)
library(sf)
library(rnaturalearth)
# set working directory ####
setwd("C:\\Users\\latreese.denson\\Desktop\\SEDAR_98_Models\\DataWorkshop\\GRSC_LFD_Exploration")
# read in clean data ####
GRSC_Map_Dat <- read.csv("GRSC_Data_for_Mapping.csv")
GRSC_Table <-read.csv("GRSC_NumberTable.csv")
# Tables of measured fish by SID ####
SID_list=unique(GRSC_Map_Dat$SID)
for(i in 1:length(SID_list)){
Data_summary = GRSC_Map_Dat%>%
filter(SID == SID_list[i])%>%
group_by(Reg_SID,year,Gear,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))
write.csv(Data_summary,paste0("GRSC_",SID_list[i],"_Data_Summary.csv"))
} # end loop
# Table Code for proportions ####
Data_summary2 = GRSC_Map_Dat%>%
group_by(Region,HabitatType) %>%
summarize(RS_meas_total = sum(RS_measured))%>%group_by(Region,HabitatType)%>%summarise_all(sum)%>%
pivot_wider(names_from = HabitatType,values_from = RS_meas_total)%>%
rowwise() %>%
mutate(Total = sum(c_across(where(is.numeric)), na.rm = T))%>%
mutate(LCper_NR = (NR/Total)*100, LCper_AR = (AR/Total)*100, LCper_UCB = (UCB/Total)*100)
write.csv(Data_summary2,"LengthComp_HabitatProportions.csv",row.names = FALSE)
GRSC_tab = GRSC_Table%>%pivot_wider(names_from = HabitatType,values_from = Number)%>%
mutate(RSCper_NR = (NR/Total)*100, RSCper_AR = (AR/Total)*100, RSCper_UCB = (UCB/Total)*100)
write.csv(GRSC_tab,"RSC_HabitatProportions.csv",row.names = FALSE)
# Compare length comp proportions to abundance proportions ####
LCdata = Data_summary2%>%select(Region,LCper_NR,LCper_AR,LCper_UCB)
RSCdata = GRSC_tab%>%select(Region,RSCper_NR,RSCper_AR,RSCper_UCB)
PerDat = merge(LCdata,RSCdata)
write.csv(PerDat,"LengthCompvsRSC_HabitatProportions.csv",row.names = FALSE)
# Set up maps ####
my_sf <- st_read(file.path(getwd(),"GOMShape", "GSHHS_f_GOM.shp"))
worldmap <- ne_countries(scale = 'medium', type = 'map_units',
returnclass = 'sf')
GULF = st_crop(worldmap, xmin = -98, xmax = -81,
ymin = 24, ymax = 31)
GULF_C = st_crop(worldmap, xmin = -90, xmax = -84,
ymin = 28, ymax = 31)
E_GULF = st_crop(worldmap, xmin = -90, xmax = -80,
ymin = 24, ymax = 31)
W_GULF = st_crop(worldmap, xmin = -98, xmax = -90,
ymin = 24, ymax = 31)
dev.off()
# Entire Gulf habitat type
ggplot() + geom_sf(data = GULF) + theme_bw()+
geom_point(data=GRSC_Map_Dat, aes(x=Longitude, y=Latitude,col = HabitatType))
ggsave("Gulf_HabType.jpg", plot = last_plot(), device = NULL, path = NULL,
width = 7, height = 5, units = "in", dpi = 300)
# Entire Gulf by year and habitat type
ggplot() + geom_sf(data = GULF) + theme_bw()+facet_grid(~year)+
geom_point(data=GRSC_Map_Dat, aes(x=Longitude, y=Latitude,col = HabitatType))
ggsave("Gulf_Year_HabType.jpg", plot = last_plot(), device = NULL, path = NULL,
width = 7, height = 5, units = "in", dpi = 300)
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@3_GRSC_Tables_Mapping.R")
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@1_GRSC_DataCleaning.R")
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@2_GRSC_LDF.R")
LC_Comp_HistFunc_SID = function(year1 =2018, year2=2019, SID1 ="Central",SID2="Central"){
Comp.data1 = GRSC_LFD_Dat%>%filter(year==year1,SID==SID1)
Comp.data2 = GRSC_LFD_Dat%>%filter(year==year2,SID==SID2)
med_val1 = median(Comp.data1$FL_cm)
med_val2 = median(Comp.data2$FL_cm)
graph_title = paste(year1,year2)
#Histogram of LFDs
ggplot()+
geom_histogram(aes(x = Comp.data1$FL_cm,y=after_stat(count/sum(count)), fill = "Comp.data1"),breaks =seq(10,115, by =5),alpha = 0.5) +
geom_histogram(aes(x = Comp.data2$FL_cm,y=after_stat(count/sum(count)), fill = "Comp.data2"),breaks =seq(10,115, by =5),alpha = 0.5) +
labs(y = "Proportion",x ="FL_cm",title= graph_title)+
geom_vline(xintercept = med_val1, color = "red", linetype= "dashed", linewidth = 1)+
annotate("text", x = med_val1+40,y = 1, label =paste("median size = ", round(med_val1),"cm"), color = "red")+
geom_vline(xintercept = med_val2, color = "red", linetype= "dashed", linewidth = 1)+
annotate("text", x = med_val2+40,y = .75, label =paste("median size = ", round(med_val2),"cm"), color = "red")+
theme_minimal()
#Filename = paste0(paste(c(options2[i,3],options2[i,1],options2[i,2]),collapse = "_"),".jpg")
#ggsave(Filename,width = 5, height = 2.5, dpi = 300, units = "in")
} # end function
LC_Comp_HistFunc_SID()
252-19-16-17-23
# year~SID ####
ggplot(data,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(SID~year)+
labs(y = "Proportion",x ="FL_cm",title= paste0(graph_title, " n = ",sum_measured))+
geom_vline(xintercept = med_val, color = "red", linetype= "dashed", linewidth = 1)+
annotate("text", x = med_val+20,y = 1, label =paste("median size = ", round(med_val),"cm"), color = "red")+
theme_minimal()
# year~SID ####
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(SID~year)+
labs(y = "Proportion",x ="FL_cm",title= paste0(graph_title, " n = ",sum_measured))+
geom_vline(xintercept = med_val, color = "red", linetype= "dashed", linewidth = 1)+
annotate("text", x = med_val+20,y = 1, label =paste("median size = ", round(med_val),"cm"), color = "red")+
theme_minimal()
# year~SID ####
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(SID~year)+
labs(y = "Proportion",x ="FL_cm",title= paste0(graph_title, " n = ",sum_measured))+
#geom_vline(xintercept = med_val, color = "red", linetype= "dashed", linewidth = 1)+
#annotate("text", x = med_val+20,y = 1, label =paste("median size = ", round(med_val),"cm"), color = "red")+
theme_minimal()
# year~SID ####
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
labs(y = "Proportion",x ="FL_cm",title= paste0(graph_title, " n = ",sum_measured))+
#geom_vline(xintercept = med_val, color = "red", linetype= "dashed", linewidth = 1)+
#annotate("text", x = med_val+20,y = 1, label =paste("median size = ", round(med_val),"cm"), color = "red")+
theme_minimal()
# year~SID ####
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
labs(y = "Proportion",x ="FL_cm")+
#geom_vline(xintercept = med_val, color = "red", linetype= "dashed", linewidth = 1)+
#annotate("text", x = med_val+20,y = 1, label =paste("median size = ", round(med_val),"cm"), color = "red")+
theme_minimal()
View(GRSC_LFD_Dat)
# year~SID ####
Year_SID_man = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm))
Year_SID_mean
# year~SID ####
Year_SID_mean = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm))
Year_SID_mean
# year~SID ####
Year_SID_mean = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm)) %>%
summarize(count_FL_cm = n(FL_cm))
# year~SID ####
Year_SID_mean = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm)) %>%
summarize(count_FL_cm = n())
Year_SID_mean
# year~SID ####
Year_SID_mean = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm)) %>% ungroup()%>%
group_by(year,SID)%>%
summarize(count_FL_cm = n())
Year_SID_mean
# year~SID ####
Year_SID_mean = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm))
Year_SID_mean
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 1.5, y = 1.5, label = mean_FL_cm), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 1.5, y = 1, label = mean_FL_cm), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 20, y = .5, label = mean_FL_cm), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 50, y = .5, label = mean_FL_cm), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 50, y = .3, label = mean_FL_cm), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 50, y = .2, label = mean_FL_cm), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 50, y = .2, label = round(mean_FL_cm,2)), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 20, y = .2, label = round(mean_FL_cm,2)), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 20, y = .2, label = paste0("mean=",round(mean_FL_cm,2))), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 30, y = .2, label = paste0("mean=",round(mean_FL_cm,2))), data = Year_SID_mean)
# year~SID ####
Year_SID_mean = GRSC_LFD_Dat%>%group_by(year,SID)%>%
summarize(mean_FL_cm = mean(FL_cm),
count = n())
Year_SID_mean
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 30, y = .2, label = paste0("mean=",round(mean_FL_cm,2),"n=",count)), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 40, y = .2, label = paste0("mean=",round(mean_FL_cm,2)," n=",count)), data = Year_SID_mean)
ggplot(GRSC_LFD_Dat,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~SID)+
geom_text(aes(x = 60, y = .2, label = paste0("mean=",round(mean_FL_cm,2)," n=",count)), data = Year_SID_mean)
i = 1
Data = RSC_LFD_Dat%>%filter(SID = SID_list[i])
Data = GRSC_LFD_Dat%>%filter(SID = SID_list[i])
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,HabitatType)%>%
summarize(mean_FL_cm = mean(FL_cm),
count = n())
SID_list[i]
Year_mean
#i = 1
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,HabitatType)%>%
summarize(mean_FL_cm = mean(FL_cm),
count = n())
ggplot(Data,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~HabitatType)+
geom_text(aes(x = 60, y = .2, label = paste0("mean=",round(mean_FL_cm,2)," n=",count)), data = Year_mean)
#i = 1
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,Gear)%>%
summarize(mean_FL_cm = mean(FL_cm),
count = n())
Year_mean
ggplot(Data,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~Gear)+
geom_text(aes(x = 60, y = .2, label = paste0("mean=",round(mean_FL_cm,2)," n=",count)), data = Year_mean)
#Quick Anova ####
Mod1 = lm(FL_cm~year+Region+SID+Reg_SID+HabitatType+Gear,data = GRSC_LFD_Dat)
anova(Mod1)
#Quick Anova ####
Mod1 = lm(FL_cm~1+year+Region+SID+Reg_SID+HabitatType+Gear,data = GRSC_LFD_Dat)
anova(Mod1)
Mod1$xlevels
#Quick Anova ####
Mod1 = lm(FL_cm~year+Region+SID+Reg_SID+HabitatType+Gear,data = GRSC_LFD_Dat)
anova(Mod1)
Mod1$xlevels
#Quick Anova ####
Mod1 = lm(FL_cm~1-year+Region+SID+Reg_SID+HabitatType+Gear,data = GRSC_LFD_Dat)
anova(Mod1)
Mod1$xlevels
#Quick Anova ####
Mod1 = lm(FL_cm~year+Region+SID+Reg_SID+HabitatType+Gear,data = GRSC_LFD_Dat)
#Quick Anova ####
Mod1 = lm(FL_cm~year+Region+SID+Reg_SID+HabitatType+Gear,data = GRSC_LFD_Dat)
anova(Mod1)
#i = 1
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,Gear)%>%
summarize(mean_FL_cm = median(FL_cm),
count = n())
Mod1 = lm(FL_cm~year+Region+SID+Reg_SID+HabitatType+Gear,data = Data)
View(Data)
Mod1 = lm(FL_cm~year+Region+Reg_SID+HabitatType+Gear,data = Data)
anova(Mod1)
Mod1 = lm(FL_cm~year+Region+Reg_SID+HabitatType+Gear+HabitatType:Gear,data = Data)
anova(Mod1)
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@2_GRSC_LDF.R")
i = 1
#i = 1
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,HabitatType)%>%
summarize(mean_FL_cm = median(FL_cm),
count = n())
Mod1 = lm(FL_cm~year+Region+HabitatType+Gear+HabitatType:Gear,data = Data)
anova(Mod1)%>%as.data.frame() %>% write.csv(file =paste0(SID_list[i],"_LFD_Year_Habitat.csv"))
ggplot(Data,aes(x=FL_cm))+
geom_histogram(aes(y=after_stat(count/sum(count))),color="black", fill="white",breaks =seq(10,115, by =5))+
facet_grid(year~HabitatType)+
geom_text(aes(x = 60, y = .2, label = paste0("med=",round(mean_FL_cm,2)," n=",count)), data = Year_mean)
i = 2
#i = 2
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,HabitatType)%>%
summarize(mean_FL_cm = median(FL_cm),
count = n())
Mod1 = lm(FL_cm~year+Region+HabitatType+Gear+HabitatType:Gear,data = Data)
SID_list[i]
View(Data)
#only one gear type
Mod1 = lm(FL_cm~year+Region+HabitatType,data = Data)
anova(Mod1)%>%as.data.frame() %>% write.csv(file =paste0(SID_list[i],"_LFD_Year_Habitat.csv"))
#only one gear type
Mod1 = lm(FL_cm~year+HabitatType,data = Data)
#only one gear type
Mod1 = lm(FL_cm~year,data = Data)
anova(Mod1)%>%as.data.frame() %>% write.csv(file =paste0(SID_list[i],"_LFD_Year_Habitat.csv"))
i = 3
#i = 3
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,HabitatType)%>%
summarize(mean_FL_cm = median(FL_cm),
count = n())
Mod1 = lm(FL_cm~year+Region+HabitatType+Gear+HabitatType:Gear,data = Data)
anova(Mod1)%>%as.data.frame() %>% write.csv(file =paste0(SID_list[i],"_LFD_Year_Habitat.csv"))
i = 2
#i = 2
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,Gear)%>%
summarize(mean_FL_cm = median(FL_cm),
count = n())
Mod1 = lm(FL_cm~year+Region+HabitatType+Gear+HabitatType:Gear,data = Data)
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@2_GRSC_LDF.R")
i
i = 2
#i = 2
Data = GRSC_LFD_Dat%>%filter(SID ==SID_list[i])
Year_mean = Data%>%group_by(year,HabitatType)%>%
summarize(mean_FL_cm = median(FL_cm),
count = n())
Mod1 = lm(FL_cm~year+Region+HabitatType+Gear+HabitatType:Gear,data = Data)
source("C:/Users/latreese.denson/Desktop/SEDAR_98_Models/DataWorkshop/GRSC_LFD_Exploration/@2_GRSC_LDF.R")
shiny::runApp()
library("rsconnect")
rsconnect::writeManifest()
install.packages('rsconnnect')
rsconnect::setAccountInfo(name='vk8mji-latreese-denson0noaa0federal',
token='FD9E70817DD69DDB41539DCC6BFC4521',
secret='<SECRET>')
rsconnect::setAccountInfo(name='vk8mji-latreese-denson0noaa0federal',
token='FD9E70817DD69DDB41539DCC6BFC4521',
secret='kn1d4kRXUBDnhhYRKf2seJbzEuCWFmi4O5VwtKaP')
rsconnect::deployApp('C:\\Users\\latreese.denson\\Documents\\GitHub\\LFDCompShinyApp')
